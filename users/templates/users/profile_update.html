{% extends "base/index.html" %}
{% load crispy_forms_tags %}
{% block header %}
    <div class="media">
        <div class="media-body">
            {% if user.first_name == "" or user.last_name == "" %}
                <h2 class="account-heading">{{ user.username }}</h2>
            {% else %}
                <h2 class="account-heading">{{ user.first_name }} {{user.last_name}}</h2>
                <p class="text-white">Username: {{ user.username }}</p>
            {% endif %}
            <p class="text-white">Email: {{ user.email }}</p>
            <p class="text-white">Job Title: {{ user.profile.jobTitle }}</p>
            <p class="text-white">Company: {{ user.profile.company }}</p>
        </div>
    </div>
{% endblock header %}
{% block content %}
<div class="pt-6">
    <div class="content-section">
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4">Update Profile</legend>
                <div class="form-row">
                    <div class="form-group col-md-6 mb=0">
                        {{ u_form.first_name|as_crispy_field }}
                    </div>
                    <div class="form-group col-md-6 mb-0">
                        {{u_form.last_name|as_crispy_field }}
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-12 mb=0">
                        {{ u_form.username|as_crispy_field }}
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-12 mb=0">
                        {{ u_form.email|as_crispy_field }}
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6 mb=0">
                        {{ p_form.jobTitle|as_crispy_field }}
                    </div>
                    <div class="form-group col-md-6 mb-0">
                        {{p_form.company|as_crispy_field }}
                    </div>
                </div>
                <div class="form-row border-bottom border-top">
                    <div class="form-group col-md-3 mb-0">
                        <legend class="mb-4">Notifications</legend>
                    </div>
                    <div class="form-group col-md-0 mb-0 mt-3">
                        {{ p_form.enabled|as_crispy_field }}
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6 mb-0">
                        {{ p_form.notificationType|as_crispy_field }}
                    </div>
                    <div class="form-group col-md-6 mb-0">
                        {{ p_form.accompInterval|as_crispy_field }}
                    </div>
                </div>
                <div id="mobileNumber" class="form-row hidden">
                    <div class="form-group col-md-3 mb-0">
                        {{ p_form.countryCode|as_crispy_field }}
                    </div>
                    <div class="form-group col-md-9 mb-0">
                        {{ p_form.mobileNumber|as_crispy_field }}
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6 mb-0">
                        {{ p_form.reminderTime|as_crispy_field }}
                    </div>
                    <div class="form-group col-md-6 mb-0">
                        {{ p_form.timezone|as_crispy_field }}
                    </div>
                </div>
            </fieldset>
            <div class="form-group" style="text-align: center;">
                <button class="btn btn-outline-info update" type="submit">Update</button>
            </div>
        </form>
    </div>
</div>
{% endblock content %}